# 대량 데이터에 따른 성능
## 대량 데이터발생에 따른 테이블 분할 개요
   1) 성능 저하 유발 요인
      - 데이터 대량 집중 (인덱스의 tree구조의 과대화로 인한 데이터 처리 효율성 저하)
      - 여러 개의 칼럼이 존재하여 디스크에 많은 블록을 점유하는 경우(데이터가 여러 블록에 존재하여 디스크에서 데이터를 읽는 I/O량 증가)
      - 로우체이닝(Row Chaining) : 로우 길이가 너무 길어서 데이터 블록 하나에 데이터가 모두 저장되지 않고, 두 개 이상의 블록에 걸쳐 하나의 로우가 저장되어 있는 형태
      - 로우마이그레이션(Row Migration)은 데이터 블록에서 수정이 발생하면 수정된 데이터를 해당 데이터 블록에서 저장하지 못하고 다른 블록의 빈 공간을 찾아 저장하는 방식

## 한 테이블에 많은 수의 칼럼을 가지고 있는 경우
  - 트랜잭션을 분석하여 적절하게 1:1 관계로 분리함으로써 성능향상이 가능하도록 해야 한다. 

## 대량 데이터 저장 및 처리로 인해 성능
   - 논리적으로는 하나의 테이블로 보이지만 물리적으로 여러 개의 테이블스페이스에 쪼개어 저장될 수 있는 구조의 파티셔닝을 적용하도록 한다. 
   - 데이터량이 대용량이 되면 파티셔닝의 적용은 필수적으로 파티셔닝 기준을 나눌 수 있는 조건에 따라 적절한 파티셔닝 방법을 선택하여 성능을 향상 시키도록 한다.
   
   1) RANGE PARTITION(범위) 적용
      - 대상 테이블이 날짜 또는 숫자값으로 분리가 가능하고 각 영역별로 트랜잭션이 분리된다면 RANGE PARTITION을 적용한다.
      - 데이터 보관주기에 따라 테이블에 데이터를 쉽게 지우는 것이 가능, 데이터 보관주기에 따른 테이블관리가 용이 

   2) LIST PARTITION(특정값 지정) 적용
      - 지점, 사업소 , 사업장, 핵심적인 코드값 등을 PK가 구성되어 있고, 대량의 데이터가 포함된 테이블 적용에 유리
      - 대용량 데이터를 특정값에 따라 분리 저장할 수 있으나, Range Partition 처럼 데이터 보관주기에 따라 쉽게 삭제하는 기능은 제공될 수 없다.
   
   3) HASH PARTITION(해쉬) 적용
      - 지정된 hash 조건에 따라 해슁 알고리즘이 적용되어 테이블이 분리됨.
      - 설계자는 테이블에 데이터가 정확하게 어떻게 들어갔는지 알 수 없다.

## 테이블에 대한 수평분할/수직분할의 절차
   1) 데이터 모델링을 완성한다.
   2) 데이터베이스 용량산정을 한다.
   3) 대량 데이터가 처리되는 테이블에 대해서 트랜잭션 처리 패턴을 분석한다.
   4) 칼럼 단위로 집중화된 처리가 발생하는지, 로우단위로 집중화된 처리가 발생되는지 분석하여 집중화된 단위로 테이블을 분리하는 것을 검토한다.

   - 2),3)에 의해서 칼럼이 수가 많은 경우 트랜잭션 특성에 따라 테이블을 1:1 형태로 분리가능한지 검증하고, 칼럼의 수가 적지만 데이터 용량이 많은 경우 데이터 파티셔닝 전략을 고려한다.
